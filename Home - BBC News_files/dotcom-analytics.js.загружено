/*! "1.232.0-20230906-135643-e21c5f8" */!function(){"use strict";const o=o=>{if("undefined"==typeof document||!o)return"";const e=`; ${document.cookie}`.split(`; ${encodeURIComponent(o)}=`);let n="";return 2===e.length&&(n=decodeURIComponent(e.pop().split(";").shift())),n},e=(o,e,n)=>{if("undefined"==typeof document||!o)return;const t=new Date(Date.now()+864e5*n);document.cookie=`${encodeURIComponent(o)}=${encodeURIComponent(e)}; expires=${t.toGMTString()}; domain=.bbc.com; path=/`},n=o=>{window.dotcom.consent=o},t=()=>window.dotcom.consent,i=o=>{if("object"==typeof window.dotcom.vendorConsent&&null!==window.dotcom.vendorConsent&&void 0!==o)return window.dotcom.vendorConsent[o]},s=["AT","AX","BE","BG","BL","CY","CZ","DE","DK","EE","ES","EU","FI","FR","GB","GF","GG","GI","GP","GR","HR","HU","IE","IM","IS","IT","JE","LI","LT","LU","LV","MF","MT","MQ","NL","NO","PL","PM","PT","RE","RO","SE","SI","SK","YT"],a=()=>"undefined"!=typeof window&&/[?|&]ads-debug/.test(window.location.href),c=()=>"undefined"!=typeof live&&"test"===live||-1!==window.location.href.indexOf("test.api.bbc.co.uk")||/(localhost|sandbox|int|test)(.dev)*.bbc.co*/.test(window.location.href)||/web.(int|test).bbcx.test.api.bbc.com/.test(window.location.href),d=()=>!0===window.dotcom.userinfo.notUkIp&&!0===window.dotcom.userinfo.ads,r=()=>a()||d()&&window.dotcom.flags.state>0&&window.dotcom.flags.adverts,w=o=>{var e;window.dotcom.userinfo.country=o["X-Country"],window.dotcom.userinfo.notUkIp="no"===o["X-Ip_is_uk_combined"],window.dotcom.userinfo.ads="yes"===o["X-Ip_is_advertise_combined"],!0===window.dotcom.userinfo.notUkIp&&(window.dotcom.userinfo.eea=!!(e=window.dotcom.userinfo.country)&&-1!==s.indexOf(e.toUpperCase()))},l=(o,e)=>{e||(delete o.adverts,delete o.analytics),Object.keys(o).forEach((e=>{let n=o[e];n="true"===n||n,n="false"!==n&&n,window.dotcom.flags[e]=n})),"www.bbc.com"!==window.location.hostname||"/news/uk/the_queen"!==window.location.pathname&&"/news/live/uk-62902778"!==window.location.pathname&&"/news/topics/c8nq32jwn4rt"!==window.location.pathname&&"/news/topics/cq23pdgvr7rt"!==window.location.pathname||(window.dotcom.flags.adverts=!1)},m=async(o,e)=>fetch(o).then((o=>{if(o.ok)return o.json();throw new Error(e)})),u=async()=>{const o="Error fetching flags",e=await m(c()?"https://gn-flagpoles.test.api.bbci.co.uk/ngas":"https://gn-flagpoles.api.bbci.co.uk/ngas",o).catch((()=>{throw window.dotcom.flags.state=-2,new Error(o)}));l(e,!1),window.dotcom.flags.state=2};let f=[];const p={isAdsDebug:a,isTestEnv:c,isStageEnv:()=>/stage.bbc.co*/.test(window.location.href)||/web.stage.bbcx.test.api.bbc.com/.test(window.location.href),isSignedIn:()=>o("ckns_id"),isDotcomAllowed:d,syncAdsEnabled:()=>r(),isAdsEnabled:()=>new Promise((o=>{window.dotcom.userinfo.state<0||window.dotcom.flags.state<0?o(r()):0===window.dotcom.userinfo.state||0===window.dotcom.flags.state?f.push(o):o(r())})),checkCookies(){n(1);const t=o("ckns_policy");(a()||t&&"1"===t.charAt(2))&&n(2),t||window.dotcom.userinfo.eea||(n(2),e("ckns_policy","111",365),e("ckns_explicit","0",365))},async init(){const o=new URLSearchParams(window.location.search);try{a()?(window.dotcom.userinfo.notUkIp=!0,window.dotcom.userinfo.ads=!0,window.dotcom.flags.adverts=!0,window.dotcom.flags.analytics=!0,window.dotcom.userinfo.state=1,await u()):(await(async()=>{const o="Error fetching userinfo",{userinfo:e={}}=window.dotcom.config;if(e["X-Country"]&&e["X-Ip_is_uk_combined"]&&e["X-Ip_is_advertise_combined"])return w(e),void(window.dotcom.userinfo.state=2);const n=await m("https://www.bbc.com/userinfo",o).catch((()=>{throw window.dotcom.userinfo.state=-1,new Error(o)}));w(n),window.dotcom.userinfo.state=1})(),d()?window.dotcom.config.opsFlags&&!o.has("force-client-flagpoles")?(l(window.dotcom.config.opsFlags,!0),l(window.dotcom.config.ngasFlags,!1),window.dotcom.flags.state=2):(await(async()=>{const o="Error fetching gnlops flags",e=await m(c()?"https://gn-flagpoles.test.api.bbci.co.uk/gnlops":"https://gn-flagpoles.api.bbci.co.uk/gnlops",o).catch((()=>{throw window.dotcom.flags.state=-1,new Error(o)}));l(e,!0),window.dotcom.flags.state=1})(),!0!==window.dotcom.flags.adverts&&!0!==window.dotcom.flags.analytics||await u()):window.dotcom.flags.state=-3)}finally{f&&f.length>0&&(f.forEach((o=>o(r()))),f=[])}},reset(){f=[]}},g="log",h={enabled:!1};("undefined"!=typeof window&&/[?|&]ads-debug/.test(window.location.href)||"undefined"!=typeof document&&-1!==document.cookie.indexOf("ads-debug="))&&(h.enabled=!0);const E=function(o){return(e,n=g)=>{h.enabled&&console[n](`dotcom:${o} ${e}`)}},b=o=>{"interactive"===document.readyState||"complete"===document.readyState?o():document.onreadystatechange=()=>{"interactive"===document.readyState&&o()}},y=E("loader");window.dotcom=window.dotcom||{},window.dotcom.loader=window.dotcom.loader||{loading:[],loaded:[],failed:[],waiting:[]};const C=({src:o,onLoad:e,onError:n,firstParty:t,legacy:i,id:s})=>{const a=document.createElement("script");a.type="text/javascript",a.async=!0,a.src=o,a.onload=e,a.onerror=n,i?(a.defer=!0,a.nomodule=!0):t&&(a.type="module"),s&&a.setAttribute("id",s),document.head.appendChild(a)},v=({src:o,onLoad:e,onError:n})=>{const t=new Image(1,1);t.onload=e,t.onerror=n,t.src=o},A=({name:o,src:e,onLoad:n,onError:t})=>{const{require:i}=window;i.config({paths:{[o]:e}}),i([o],(o=>n(o)),(()=>t()))},D=(o,e)=>{window.dotcom.loader.waiting[o].forEach((({resolve:n,reject:t})=>{e?n(`${o} has loaded`):t(new Error(`${o} failed to load`))}))},B=({name:o,url:e,urlParams:n,requireUrl:t,preLoad:i,onLoad:s,isImage:a,id:c},d,r)=>{const{requirejs:w,dotcom:l}=window;l.loader.loading.push(o),l.loader.waiting[o]=[],"function"==typeof i&&i();const m="function"==typeof n?n():"",u=w&&t?t():e(m);let f=C;a&&(f=v),w&&t&&(f=A),f({name:o,src:u,onLoad:e=>{const n=`load success > ${o}`;y(n),l.loader.loaded.push(o),"function"==typeof s&&s(e),d&&d(n),D(o,!0)},onError:()=>{const e=`load fail > ${o}`;y(e),l.loader.failed.push(o),r&&r(new Error(e)),D(o,!1)},firstParty:!1,legacy:!1,id:c})},k=o=>{o.forEach((o=>{(({name:o,url:e,urlParams:n,requireUrl:t,meetsRequirements:i,preLoad:s,onLoad:a,image:c=!1,id:d=null})=>{!window.dotcom.loader.loading.includes(o)&&i(window.dotcom.flags)&&B({name:o,url:e,urlParams:n,requireUrl:t,preLoad:s,onLoad:a,image:c,id:d})})(o)}))},F=new RegExp("^(/)?(afaanoromoo|afrique|amharic|arabic|azeri|bengali|burmese|gahuza|gujarati|hausa|hindi|igbo|indonesia|korean|kyrgyz|japanese|marathi|mundo|naidheachdan|nepali|pashto|persian|pidgin|portuguese|punjabi|russian|serbian|sinhala|somali|swahili|tajik|tamil|telugu|thai|tigrinya|turkce|ukchina|ukrainian|urdu|uzbek|vietnamese|yoruba|zhongwen)"),I=new RegExp("^/ws/av-embeds/"),L=o=>{const e=o||window.location.pathname;return F.test(e)||I.test(e)},_=()=>!!window.dotcom.config?.xPlatform,T={name:"nielsenNz",url:()=>"https://secure-nz.imrworldwide.com/v60.js",onLoad:()=>{void 0!==window.nol_t&&window.nol_t({cid:"nz-bbc",content:"0",server:"secure-nz"}).record().post()},meetsRequirements:o=>{const e=void 0!==i("nielsen")?i("nielsen"):2===t();return void 0!==o.nielsen&&o.nielsen&&e}},P={name:"nielsenUs",image:!0,urlParams:()=>({href:window.location.href,referrer:document.referrer}),url:o=>`https://secure-us.imrworldwide.com/cgi-bin/m?ci=us-804789h&amp;cg=0&amp;cc=1&amp;si=${encodeURI(o.href)}&amp;rp=${encodeURI(o.referrer)}&amp;ts=compact&amp;rnd=${Date.now()}`,meetsRequirements:o=>{const e=void 0!==i("nielsen")?i("nielsen"):2===t();return void 0!==o.nielsen&&o.nielsen&&e}},U={homepage:"TC1C2D428-136E-4D44-A563-A4C4E2B4D0A1",news:"TC1C2D428-136E-4D44-A563-A4C4E2B4D0A1",sport:"T964FE259-B620-478C-AF4C-9B6853A11B9C",reel:"T10DCAF56-10F0-4128-A7F7-B9B1669D3445",worklife:"TA6543824-73CC-4EAF-B320-D24F2A892A7C",travel:"T4E08C579-ED13-4847-B253-DF94DC06DCEC",future:"TAB5482CD-53F5-4AAA-8B9E-BD0581F5A177",culture:"T8CD81B31-A141-461B-A05B-294757BB38A8",weather:"TB4B38A72-A4C9-4644-8F68-BD9A84E4D23A"},$={homepage:"P219D63F3-9886-4328-BC0E-12169AC85CC0",news:"P2704BFDE-073B-4F0E-9CBF-6E96DC971415",sport:"P73D072A9-789C-4972-88A2-DE6D33083A50",reel:"PC17F1AFA-EB39-4076-9CFF-82B484FF8365",worklife:"PA450AE31-6740-4B1B-A653-D81F88FBC6DB",travel:"T4E08C579-ED13-4847-B253-DF94DC06DCEC",future:"P4D97E2C6-33E7-4E4F-9747-A1E959322287",culture:"PCC3AA1CB-C557-42F7-9278-D94AF13EA546",weather:"PC9B805B7-E9B8-4258-B950-5D2431D1472E"},R=o=>{if(!o||!o.length)return"";return`${o[0].toUpperCase()}${o.substr(1)}`},x=()=>{if(void 0!==i("nielsen")?i("nielsen"):2===t()){(o=window)[e="NOLBUNDLE"]=o[e]||{nlsQ:(n,t,i,s,a,c)=>((s=(a=o.document).createElement("script")).async=1,s.src=`${"http:"===o.location.protocol?"http:":"https:"}//cdn-gl.imrworldwide.com/conf/${n}.js#name=${t}&ns=${e}`,(c=a.getElementsByTagName("script")[0]).parentNode.insertBefore(s,c),o[e][t]=o[e][t]||{g:i||{},ggPM(n,i,s,a,c){(o[e][t].q=o[e][t].q||[]).push([n,i,s,a,c])}},o[e][t])};const{channel:n,section:t}=window.dotcom.data,i=(o=>Object.keys(U).find((e=>e===o))||null)(n);if(!i)return;const s=(o=>(p.isTestEnv()?U:$)[o])(i),a=p.isAdsDebug()?{nol_sdkDebug:"DEBUG"}:{},c=NOLBUNDLE.nlsQ(s,"nSdkInstance",a),d=`BBC ${R(i)} ${R(t)}`,r={type:"static",assetid:window.location.pathname,section:d};b((()=>{c.ggPM("staticstart",r)}))}var o,e},S={name:"mmx",url:()=>"https://sb.scorecardresearch.com/beacon.js",meetsRequirements:o=>void 0!==o.comscoremmx&&o.comscoremmx},j={name:"survey",url:()=>"https://gn-web-assets.api.bbc.com/ngas/vendor/edr/edr.min.js",meetsRequirements:o=>_()?void 0!==o.surveyx&&o.surveyx&&!window.EDRSurvey:void 0!==o.survey&&o.survey&&!window.EDRSurvey},q=E("analytics");window.dotcom.initAnalytics=()=>{const o=[j];switch(window.dotcom.userinfo.country){case"us":o.push(P);break;case"au":x();break;case"nz":o.push(T)}L()||(((o="page",e="LIVE")=>{const n=o=>"page"===o?"2":"22",s=o=>{switch(o){default:case"LIVE":return"19293874";case"TEST":return"18897612"}},a=()=>(void 0!==i("comscore")?i("comscore"):2===t())?"1":"0";window._comscore=window._comscore||[],window.dotcom.config?.comscorekw?window._comscore.push({c1:n(o),c2:s(e),cs_ucfr:a(),comscorekw:window.dotcom.config.comscorekw}):window._comscore.push({c1:n(o),c2:s(e),cs_ucfr:a()})})("page",p.isTestEnv()?"TEST":"LIVE"),o.push(S)),b((()=>{q("loading "),k(o)}))},window.dotcom.initAnalytics()}();