!function(){function t(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,a=new Array(e);n<e;n++)a[n]=t[n];return a}(0,window.define)("idcta-v2/statusbar",["idcta-v2/idCookie","idcta-v2/id-config","idcta-v2/logger","idcta-v2/analytics","idcta-v2/apiUtils"],(function(e,n,a,i,r){var o={};function l(t,i){return n.getConfigAsync().then((function(a){var o,l=i.getNameFromCookie(),c=a.translation_signedin,s=t.element.className;if(l){var u=l.substring(0,1).toUpperCase();c=n.getFeatureDecisions().removeJsTruncation?l:(14,(o=l).length>14?"".concat(o.substring(0,13),"â€¦"):o),t.element.className="".concat(t.element.className," idcta-avatar"),t.ctaLink.setAttribute("userInitial",u)}t.element.className="".concat(t.element.className," idcta-signedin"),"GREEN"===a["foryou-flagpole"]&&"foryou"===r.getStatusURL(e.getInstance(),a).statusName&&(c=a.translation_foryou,t.element.className="".concat(s," idcta-foryou")),t.ctaName.innerText=c})).catch((function(t){a.logCaughtError(t)}))}return o.Statusbar=function(i){try{if(this.id=null,this.element=null,this.ctaLink=null,this.ctaName=null,function(t){return!(!document.getElementById(t.id)||!t.blq&&!document.getElementById("idcta-link")||t.blq&&!document.getElementById(t["link-id"]))}(i)){if(this.id=i.id,this.element=document.getElementById(i.id),i.blq)this.ctaLink=document.getElementById(i["link-id"])?document.getElementById(i["link-id"]):this.element.getElementsByTagName("a")[0],this.ctaName=i["name-id"]?document.getElementById(i["name-id"]):this.element.getElementsByTagName("span")[1];else{this.ctaLink=document.getElementById("idcta-link");var o=(s=this.element.getElementsByTagName("span"),u=1,function(t){if(Array.isArray(t))return t}(s)||function(t,e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t)){var n=[],a=!0,i=!1,r=void 0;try{for(var o,l=t[Symbol.iterator]();!(a=(o=l.next()).done)&&(n.push(o.value),!e||n.length!==e);a=!0);}catch(t){i=!0,r=t}finally{try{a||null==l.return||l.return()}finally{if(i)throw r}}return n}}(s,u)||function(e,n){if(e){if("string"==typeof e)return t(e,n);var a=Object.prototype.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?t(e,n):void 0}}(s,u)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}());this.ctaName=o[0]}var c=this;!0===i.publiclyCacheable&&(e.getInstance().hasCookie()?n.getConfigAsync().then((function(t){if("GREEN"===t["foryou-flagpole"]){var n=e.getInstance(),a=n.getUserDetailsFromCookie();n.calculatePn(a);var i=r.getStatusURL(n,t).statusURL;i&&c.ctaLink.href!==i&&(c.ctaLink.href=i)}else t.status_url&&c.ctaLink.href!==t.status_url&&(c.ctaLink.href=t.status_url);l(c,e.getInstance())})):n.getConfigAsync().then((function(t){t.signin_url&&(c.ctaLink.href=t.signin_url),c.ctaName.innerText=t.translation_signedout})))}}catch(t){a.logCaughtError(t)}var s,u},o.updateForAuthorisedState=l,i.wrapModuleWithAnalytics(o,"statusbar"),o}))}();