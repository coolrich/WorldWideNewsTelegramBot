/*! "1.232.0-20230906-135643-e21c5f8" */!function(){"use strict";const o=o=>{if("undefined"==typeof document||!o)return"";const e=`; ${document.cookie}`.split(`; ${encodeURIComponent(o)}=`);let t="";return 2===e.length&&(t=decodeURIComponent(e.pop().split(";").shift())),t},e=(o,e,t)=>{if("undefined"==typeof document||!o)return;const n=new Date(Date.now()+864e5*t);document.cookie=`${encodeURIComponent(o)}=${encodeURIComponent(e)}; expires=${n.toGMTString()}; domain=.bbc.com; path=/`},t=o=>{window.dotcom.consent=o},n=o=>{if("object"==typeof window.dotcom.vendorConsent&&null!==window.dotcom.vendorConsent&&void 0!==o)return window.dotcom.vendorConsent[o]},a=(o,e)=>{"object"==typeof window.dotcom.vendorConsent&&null!==window.dotcom.vendorConsent&&void 0!==o&&(window.dotcom.vendorConsent[o]=e)},s=["AT","AX","BE","BG","BL","CY","CZ","DE","DK","EE","ES","EU","FI","FR","GB","GF","GG","GI","GP","GR","HR","HU","IE","IM","IS","IT","JE","LI","LT","LU","LV","MF","MT","MQ","NL","NO","PL","PM","PT","RE","RO","SE","SI","SK","YT"],d=()=>"undefined"!=typeof window&&/[?|&]ads-debug/.test(window.location.href),r=()=>"undefined"!=typeof live&&"test"===live||-1!==window.location.href.indexOf("test.api.bbc.co.uk")||/(localhost|sandbox|int|test)(.dev)*.bbc.co*/.test(window.location.href)||/web.(int|test).bbcx.test.api.bbc.com/.test(window.location.href),c=()=>!0===window.dotcom.userinfo.notUkIp&&!0===window.dotcom.userinfo.ads,w=()=>d()||c()&&window.dotcom.flags.state>0&&window.dotcom.flags.adverts,l=o=>{var e;window.dotcom.userinfo.country=o["X-Country"],window.dotcom.userinfo.notUkIp="no"===o["X-Ip_is_uk_combined"],window.dotcom.userinfo.ads="yes"===o["X-Ip_is_advertise_combined"],!0===window.dotcom.userinfo.notUkIp&&(window.dotcom.userinfo.eea=!!(e=window.dotcom.userinfo.country)&&-1!==s.indexOf(e.toUpperCase()))},m=(o,e)=>{e||(delete o.adverts,delete o.analytics),Object.keys(o).forEach((e=>{let t=o[e];t="true"===t||t,t="false"!==t&&t,window.dotcom.flags[e]=t})),"www.bbc.com"!==window.location.hostname||"/news/uk/the_queen"!==window.location.pathname&&"/news/live/uk-62902778"!==window.location.pathname&&"/news/topics/c8nq32jwn4rt"!==window.location.pathname&&"/news/topics/cq23pdgvr7rt"!==window.location.pathname||(window.dotcom.flags.adverts=!1)},p=async(o,e)=>fetch(o).then((o=>{if(o.ok)return o.json();throw new Error(e)})),u=async()=>{const o="Error fetching flags",e=await p(r()?"https://gn-flagpoles.test.api.bbci.co.uk/ngas":"https://gn-flagpoles.api.bbci.co.uk/ngas",o).catch((()=>{throw window.dotcom.flags.state=-2,new Error(o)}));m(e,!1),window.dotcom.flags.state=2};let f=[];const g={isAdsDebug:d,isTestEnv:r,isStageEnv:()=>/stage.bbc.co*/.test(window.location.href)||/web.stage.bbcx.test.api.bbc.com/.test(window.location.href),isSignedIn:()=>o("ckns_id"),isDotcomAllowed:c,syncAdsEnabled:()=>w(),isAdsEnabled:()=>new Promise((o=>{window.dotcom.userinfo.state<0||window.dotcom.flags.state<0?o(w()):0===window.dotcom.userinfo.state||0===window.dotcom.flags.state?f.push(o):o(w())})),checkCookies(){t(1);const n=o("ckns_policy");(d()||n&&"1"===n.charAt(2))&&t(2),n||window.dotcom.userinfo.eea||(t(2),e("ckns_policy","111",365),e("ckns_explicit","0",365))},async init(){const o=new URLSearchParams(window.location.search);try{d()?(window.dotcom.userinfo.notUkIp=!0,window.dotcom.userinfo.ads=!0,window.dotcom.flags.adverts=!0,window.dotcom.flags.analytics=!0,window.dotcom.userinfo.state=1,await u()):(await(async()=>{const o="Error fetching userinfo",{userinfo:e={}}=window.dotcom.config;if(e["X-Country"]&&e["X-Ip_is_uk_combined"]&&e["X-Ip_is_advertise_combined"])return l(e),void(window.dotcom.userinfo.state=2);const t=await p("https://www.bbc.com/userinfo",o).catch((()=>{throw window.dotcom.userinfo.state=-1,new Error(o)}));l(t),window.dotcom.userinfo.state=1})(),c()?window.dotcom.config.opsFlags&&!o.has("force-client-flagpoles")?(m(window.dotcom.config.opsFlags,!0),m(window.dotcom.config.ngasFlags,!1),window.dotcom.flags.state=2):(await(async()=>{const o="Error fetching gnlops flags",e=await p(r()?"https://gn-flagpoles.test.api.bbci.co.uk/gnlops":"https://gn-flagpoles.api.bbci.co.uk/gnlops",o).catch((()=>{throw window.dotcom.flags.state=-1,new Error(o)}));m(e,!0),window.dotcom.flags.state=1})(),!0!==window.dotcom.flags.adverts&&!0!==window.dotcom.flags.analytics||await u()):window.dotcom.flags.state=-3)}finally{f&&f.length>0&&(f.forEach((o=>o(w()))),f=[])}},reset(){f=[]}},h=()=>window.dotcom.data,b=new RegExp("^(/)?(afaanoromoo|afrique|amharic|arabic|azeri|bengali|burmese|gahuza|gujarati|hausa|hindi|igbo|indonesia|korean|kyrgyz|japanese|marathi|mundo|naidheachdan|nepali|pashto|persian|pidgin|portuguese|punjabi|russian|serbian|sinhala|somali|swahili|tajik|tamil|telugu|thai|tigrinya|turkce|ukchina|ukrainian|urdu|uzbek|vietnamese|yoruba|zhongwen)"),y=new RegExp("^/ws/av-embeds/"),v=()=>{const o=h().channel;return"future"===o||"worklife"===o||"travel"===o||"culture"===o},_=o=>{const e=o||window.location.pathname;return b.test(e)||y.test(e)},E=()=>"japanese"===h().channel,k=v,L=()=>"storyworks"===h().channel,x=()=>!!window.dotcom.config?.xPlatform,C={name:"ozone",url:()=>x()?"https://prebid.the-ozone-project.com/hw2/OZONEBBC4784/1500000107/current/ozpb.min.js":"https://prebid.the-ozone-project.com/hw2/OZONEBBC4784/8890582654/current/ozpb.min.js",meetsRequirements:o=>void 0!==o.ozone&&o.ozone&&!_(),id:"adunits_loader"},S=new URLSearchParams(window.location.search),U={name:"cmp",url:()=>"https://gn-web-assets.api.bbc.com/ngas/vendor/fundingchoices/cmp.js",preLoad:()=>{window.googlefc=window.googlefc||{},window.googlefc.callbackQueue=window.googlefc.callbackQueue||[]},meetsRequirements:o=>!(S.has("sourcepoint")||void 0!==o.cmp&&!0===o.cmp)&&(!(!window.dotcom.userinfo.eea&&!document.cookie.split(";").some((o=>o.trim().startsWith("FCCDCF="))))&&(("www.test.bbc.com"===window.location.host||"www.bbc.com"===window.location.host)&&window.location===window.parent.location))},I="log",R={enabled:!1};("undefined"!=typeof window&&/[?|&]ads-debug/.test(window.location.href)||"undefined"!=typeof document&&-1!==document.cookie.indexOf("ads-debug="))&&(R.enabled=!0);const T=function(o){return(e,t=I)=>{R.enabled&&console[t](`dotcom:${o} ${e}`)}},j=new URLSearchParams(window.location.search),P=T("sourcepoint"),A={name:"sourcepoint",url:()=>"https://cdn.privacy-mgmt.com/unified/wrapperMessagingWithoutDetection.js",preLoad:()=>{function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o})(e)}!function(){for(var e,t,n=[],i=window,a=i;a;){try{if(a.frames.__tcfapiLocator){e=a;break}}catch(e){}if(a===i.top)break;a=i.parent}e||(function o(){var e=i.document,t=!!i.frames.__tcfapiLocator;if(!t)if(e.body){var n=e.createElement("iframe");n.style.cssText="display:none",n.name="__tcfapiLocator",e.body.appendChild(n)}else setTimeout(o,5);return!t}(),i.__tcfapi=function(){for(var o=arguments.length,e=new Array(o),i=0;i<o;i++)e[i]=arguments[i];if(!e.length)return n;"setGdprApplies"===e[0]?e.length>3&&2===parseInt(e[1],10)&&"boolean"==typeof e[3]&&(t=e[3],"function"==typeof e[2]&&e[2]("set",!0)):"ping"===e[0]?"function"==typeof e[2]&&e[2]({gdprApplies:t,cmpLoaded:!1,cmpStatus:"stub"}):n.push(e)},i.addEventListener("message",(function(e){var t="string"==typeof e.data,n={};if(t)try{n=JSON.parse(e.data)}catch(e){}else n=e.data;var i="object"===o(n)?n.__tcfapiCall:null;i&&window.__tcfapi(i.command,i.version,(function(o,n){var a={__tcfapiReturn:{returnValue:o,success:n,callId:i.callId}};e&&e.source&&e.source.postMessage&&e.source.postMessage(t?JSON.stringify(a):a,"*")}),i.parameter)}),!1))}(),function(){var o=window,e=document;function t(e){var t="string"==typeof e.data;try{var n=t?JSON.parse(e.data):e.data;if(n.__cmpCall){var i=n.__cmpCall;o.__uspapi(i.command,i.parameter,(function(o,n){var a={__cmpReturn:{returnValue:o,success:n,callId:i.callId}};e.source.postMessage(t?JSON.stringify(a):a,"*")}))}}catch(n){}}!function t(){if(!o.frames.__uspapiLocator)if(e.body){var n=e.body,i=e.createElement("iframe");i.style.cssText="display:none",i.name="__uspapiLocator",n.appendChild(i)}else setTimeout(t,5)}(),"function"!=typeof __uspapi&&(o.__uspapi=function(){var o=arguments;if(__uspapi.a=__uspapi.a||[],!o.length)return __uspapi.a;"ping"===o[0]?o[2]({gdprAppliesGlobally:!1,cmpLoaded:!1},!0):__uspapi.a.push([].slice.apply(o))},__uspapi.msgHandler=t,o.addEventListener("message",t,!1))}(),window._sp_queue=[],window._sp_={config:{accountId:1786,baseEndpoint:"https://cdn.privacy-mgmt.com",consentLanguage:"en",ccpa:{},gdpr:{},events:{onMessageChoiceSelect:function(){P(`onMessageChoiceSelect, ${JSON.stringify(arguments)}`)},onMessageReady:function(){P(`onMessageReady, ${JSON.stringify(arguments)}`)},onMessageChoiceError:function(){P(`onMessageChoiceError, ${JSON.stringify(arguments)}`)},onPrivacyManagerAction:function(){P(`onPrivacyManagerAction, ${JSON.stringify(arguments)}`)},onPMCancel:function(){P(`onPMCancel', ${JSON.stringify(arguments)}`)},onMessageReceiveData:function(){P(`onMessageReceiveData, ${JSON.stringify(arguments)}`)},onSPPMObjectReady:function(){P(`onSPPMObjectReady, ${JSON.stringify(arguments)}`)},onConsentReady:function(o){const e=new Event("ngas:consentReady"),{dotcom:{userinfo:{eea:t}}}=window;"gdpr"===o&&t&&window.dispatchEvent(e),"ccpa"!==o||t||window.dispatchEvent(e)},onError:function(){P(`onError', ${JSON.stringify(arguments)}`)}}}}},meetsRequirements:o=>window.location===window.parent.location&&(!!j.has("sourcepoint")||void 0!==o.cmp&&o.cmp)},$=o=>{const e=o?o.replace(/(_|-|\/)[0-9]{7,8}$/,""):"";let t=e.indexOf("/")>-1?e.split("/"):[e];return t=t.filter((o=>""!==o)),{path:e,sectionsArr:t}},z=o=>{const{pathname:e,hostname:t,search:n}=window.location,i=(o=>{const e={AV:"media_asset",INDEX:"index",FIX:"index",STY:"story"};let t;const n=window?.SIMORGH_DATA?.pageData?.metadata?.type;return void 0===t&&n&&(t=e[n]),void 0===t&&(t=/[0-9]{7,8}$/.test(o)?"story":"index",(o.includes("/articles/")||o.includes("/article/"))&&(t="story")),/\/(sport|news)\/live\//.test(o)&&(t="live_event"),t})(e),{adCampaign:a,topics:s=[]}=window.dotcom.config,d=(o=>{const e=o.split("/");return"wwhp"===e[1]?"homepage":e[1]||"homepage"})(e),r=(o=>{let e=/[0-9]{7,8}$/.test(o)?"content":"index";return(o.includes("/articles/")||o.includes("/article/"))&&(e="content"),e})(e),c=(()=>{let o="nonbbc";const e=document.referrer.split("https://www.bbc.com/");return 2===e.length&&(o=encodeURIComponent(e[1].replace(/-|\/|_/g,"")),o.length>64&&(o="")),o})(),w=(o=>{const{path:e,sectionsArr:t}=$(o);return e===o&&1===t.length?"homepage":t[1]?t[1]:""})(e),l=(o=>{const{sectionsArr:e}=$(o);return e[2]?e[2]:""})(e),m=(o=>{let e;if(o){const t=o.split("/");4===t.length&&"article"===t[2]?e=t[3]:(/([0-9]{7,8})$/.test(o)&&(e=RegExp.$1),/(\/articles\/)(c[0-9a-hj-np-z]{10,}o$)/.test(o)&&(e=RegExp.$2))}return e})(e),p=((o,e)=>{if("worldservice"!==e)return"";let t;return t=o.split("/").pop().split("_"),t.shift(),t=t.join("_"),t})(e,d),u=(o=>{const{top:e,self:t}=window,n=e!==t?e.location.search:o;return new URLSearchParams(n)})(n);window.dotcom.data={adUnit:"",channel:d,section:w,subsection:l,asset_type:i,adCampaign:a,topics:s,story_id:m??"",urlParams:u,keyValues:{asset_type:i,channel:d,ctype:r,sectn:w,...l&&{subsect:l},domain:t,referrer:c,...m&&{story_id:m},...p&&{title:p}}},o&&Object.keys(o).forEach((e=>{"tags"===e&&(o[e]=encodeURIComponent(o[e])),window.dotcom.data.keyValues[e]=o[e]}))},O=()=>window.dotcom.data,q="tkn-exp";let M,D,X;window.dotcom=window.dotcom||{},window.dotcom.idcta=window.dotcom.idcta||{};const N=async()=>{let e="https://idcta.api.bbc.com/idcta/config";g.isTestEnv(window.location.href)&&(e="https://idcta.test.api.bbc.com/idcta/config"),g.isStageEnv(window.location.href)&&(e="https://idcta.stage.api.bbc.com/idcta/config");const t=(o=>{let e=`${o.toUpperCase()}_GNL`;return k()&&(e="FEATURES_SITE_GNL"),_()&&(e="NEWS_LANGUAGES_GNL"),g.isTestEnv()&&(e=`${e}_TEST`),e})(window.dotcom.data.channel),n=`${window.location.href.split("?")[0]}?zephr-REPLACETYPE`,i=`${e}?userOrigin=${t}&ptrt=${encodeURIComponent(n)}`,a=await fetch(i,{cache:"no-store"});if(!a.ok)throw new Error(`ID CTA Config Endpoint returned ${a.status}`);if(M=await a.json(),window.dotcom.idcta.signout=()=>{window.dotcom.idcta.signedIn&&(window.dotcom.idcta.signedIn=!1,window.location.href=`${M.signout_url}?ptrt=${window.location.href}`)},D=o(M.identity.idSignedInCookieName),D){window.dotcom.idcta.signedIn=!0;const o=window.atob(D);X=JSON.parse(o)}return window.dotcom.idcta.signin_url=M.signin_url,window.dotcom.idcta.register_url=M.register_url,window.dotcom.idcta.signout_url=M.signout_url,"GREEN"===M["id-availability"]},B=T("xpel"),G=((o=window.location.href)=>g.isTestEnv(o)?"https://xproxy.test.api.bbc.com":g.isStageEnv(o)?"https://xproxy.stage.api.bbc.com":"https://xproxy.api.bbc.com")(),J=()=>{const e=o("blaize_jwt"),t=window.dotcom.idcta?.signedIn||!1,n=O().keyValues||{};return n.topics=window.dotcom.config?.topics?.toString(),n.country=window.dotcom.userinfo.country,n.under16=o("ckns_under16"),n.marketing=o("ckns_marketing"),n.signin_url=window.dotcom.idcta?.signin_url,n.register_url=window.dotcom.idcta?.register_url,n.signedIn=t,!!window.dotcom.flags.zephr&&(window.zephrBrowser&&window.zephrBrowser.run({cdnApi:G,jwt:e,customData:n}),!0)},F=()=>{const e=o("blaize_jwt"),t=o("ckns_marketing"),n={credentials:"include",method:"POST"};if(window.dotcom.flags.xproxy&&window.dotcom.flags.idcta&&window.dotcom.idcta.signedIn){if(t)n.body=JSON.stringify({marketingOptIn:t});else if(e)return void J();fetch(`${G}/zephr-token`,n).then((()=>{var o;B("fetch xproxy success"),t&&(o="ckns_marketing","undefined"!=typeof document&&o&&(document.cookie=`${encodeURIComponent(o)}=; expires=Thu, 01 Jan 1970 00:00:00 GMT; domain=.bbc.com; path=/`)),J()})).catch((()=>{B("fetch xproxy fail"),J()}))}},V=()=>{window.dotcom.flags.idcta&&window.dotcom.idcta.signedIn&&(async o=>{const{[q]:e}=X,t=new Date(e-6e5);if(Date.now()<t&&!o)return"ensureTokens success - token still valid";const n=await fetch(M.signin_url,{credentials:"include",headers:{"Content-Type":"application/json"}});if(!n.ok)throw new Error(`ensureTokens fail - ${M.signin_url} returned ${n.status}`);return"ensureTokens success - token refreshed!"})(!0).then((o=>{B(o),F(),window.dotcom.xpel={callProxy:F}})).catch((o=>{B(o)}))},Q=()=>{window.dotcom.flags.zephr&&((()=>{const o=(o,e)=>{const t=document.createElement("div");t.setAttribute("class",o),e?document.body.insertBefore(t,document.body.firstChild):document.body.appendChild(t)};0===document.getElementsByClassName(`zephr_${O().asset_type}`).length&&o(`zephr_${O().asset_type}`),0===document.getElementsByClassName("zephr_meter").length&&o("zephr_meter"),window.dotcom.flags.beta&&!x()&&(o("zephr_join_beta",!0),o(`zephr_join_beta_${O().asset_type}`))})(),(()=>{if(window.Reverb)window.dotcom.reverbInstance=window.Reverb;else try{window.__reverb.__reverbLoadedPromise.then((o=>{window.dotcom.reverbInstance=o}))}catch(o){B("Fail to initiate reverb fallback")}})()),g.isSignedIn()||(window.dotcom.flags.xproxy=!1),window.dotcom.flags.xproxy?V():window.dotcom.flags.zephr&&J()},Y="https://assets.zephr.com/zephr-browser/1.5.2/zephr-browser.umd.js",K=o=>{window.zephrBrowser=o,Q()},Z={name:"zephr",url:()=>Y,preLoad:()=>{window.zephrBrowser=window.zephrBrowser||{}},meetsRequirements:()=>window.dotcom.flags.zephr,onLoad:()=>{K(window.zephrBrowser)},requirejs:()=>{window.requirejs([Y],(o=>{K(o)}))}},H=T("loader");window.dotcom=window.dotcom||{},window.dotcom.loader=window.dotcom.loader||{loading:[],loaded:[],failed:[],waiting:[]};const W=({src:o,onLoad:e,onError:t,firstParty:n,legacy:i,id:a})=>{const s=document.createElement("script");s.type="text/javascript",s.async=!0,s.src=o,s.onload=e,s.onerror=t,i?(s.defer=!0,s.nomodule=!0):n&&(s.type="module"),a&&s.setAttribute("id",a),document.head.appendChild(s)},oo=({src:o,onLoad:e,onError:t})=>{const n=new Image(1,1);n.onload=e,n.onerror=t,n.src=o},eo=({name:o,src:e,onLoad:t,onError:n})=>{const{require:i}=window;i.config({paths:{[o]:e}}),i([o],(o=>t(o)),(()=>n()))},to=(o,e)=>{window.dotcom.loader.waiting[o].forEach((({resolve:t,reject:n})=>{e?t(`${o} has loaded`):n(new Error(`${o} failed to load`))}))},no=({name:o,url:e,urlParams:t,requireUrl:n,preLoad:i,onLoad:a,isImage:s,id:d},r,c)=>{const{requirejs:w,dotcom:l}=window;l.loader.loading.push(o),l.loader.waiting[o]=[],"function"==typeof i&&i();const m="function"==typeof t?t():"",p=w&&n?n():e(m);let u=W;s&&(u=oo),w&&n&&(u=eo),u({name:o,src:p,onLoad:e=>{const t=`load success > ${o}`;H(t),l.loader.loaded.push(o),"function"==typeof a&&a(e),r&&r(t),to(o,!0)},onError:()=>{const e=`load fail > ${o}`;H(e),l.loader.failed.push(o),c&&c(new Error(e)),to(o,!1)},firstParty:!1,legacy:!1,id:d})},io=({name:o,url:e,urlParams:t,requireUrl:n,meetsRequirements:i,preLoad:a,onLoad:s,image:d=!1,id:r=null})=>{!window.dotcom.loader.loading.includes(o)&&i(window.dotcom.flags)&&no({name:o,url:e,urlParams:t,requireUrl:n,preLoad:a,onLoad:s,image:d,id:r})},ao=({name:o,url:e,urlParams:t,requireUrl:n,meetsRequirements:i,preLoad:a,onLoad:s,image:d=!1,id:r=null})=>new Promise(((c,w)=>{window.dotcom.loader.loaded.includes(o)?c(`${o} was already loaded`):window.dotcom.loader.failed.includes(o)?w(new Error(`${o} failed to load`)):window.dotcom.loader.loading.includes(o)?window.dotcom.loader.waiting[o].push({resolve:c,reject:w}):i(window.dotcom.flags)?no({name:o,url:e,urlParams:t,requireUrl:n,preLoad:a,onLoad:s,image:d,id:r},c,w):w(new Error(`${o} doesn't meet requirements`))})),so=o=>{o.forEach((o=>{io(o)}))},ro=o=>new Promise((e=>{let t=0,n=[];o.forEach((i=>{ao(i).then((o=>{n=[...n,o]})).catch((o=>{n=[...n,o]})).then((()=>{t+=1,t===o.length&&e(n)}))}))})),co=(o,e)=>{W({src:o,onLoad:()=>{},onError:()=>{},firstParty:!0,legacy:e})},wo=(o,e)=>new Promise(((t,n)=>{W({src:o,onLoad:t,onError:n,firstParty:!0,legacy:e})})),lo=(o,e,t,n,i)=>{if(!e){e=e||{},window.permutive=e,e.q=[],e.config=i||{},e.config.projectId=t,e.config.apiKey=n,e.config.environment=e.config.environment||"production";for(var a=["addon","identify","track","trigger","query","segment","segments","ready","on","once","user","consent"],s=0;s<a.length;s++){var d=a[s];e[d]=function(o){return function(){var t=Array.prototype.slice.call(arguments,0);e.q.push({functionName:o,arguments:t})}}(d)}}},mo="e488cdb0-e7cb-4d91-9648-60d437d8e491",po={name:"permutive",url:()=>`https://cdn.permutive.com/${mo}-web.js`,preLoad:()=>{lo(document,window.permutive,mo,"1bb84885-9325-4fef-adda-a208032b2715",{consentRequired:!0})},meetsRequirements:o=>!(_()&&!E())&&(void 0!==o.permutive&&o.permutive)},uo={name:"grapeshot",urlParams:()=>({pageUrl:window.location.href.split("?")[0]}),url:o=>{let e=o.pageUrl;return e.indexOf("/ws/av-embeds/cps/")>0&&(e=`${e.split("ws/av-embeds/cps/")[0]}${e.split("/ws/av-embeds/cps/")[1].split("/").splice(0,2).join("/")}`),e=encodeURIComponent(e),`https://bbc.gscontxt.net/?url=${e}`},meetsRequirements:o=>void 0!==o.grapeshot&&o.grapeshot},fo=o=>{const e=void 0!==n("covatic")?n("covatic"):2===window.dotcom.consent;o.Client("U2FsdGVkX18EsRRiop2bz2RGRCxBsCIBgDXwov3o+yGa10gNZfD5U7y683Ja4/kuLsfa+sKCaGH8ZcR8as78SpmuJAsleZqjKzAxgG7cEz/OQevd0xUqQG4rb5GczlQa4Be1qBGI5X+1BWz+JoFUmfikRq12Pm0Q+t1MV37ddCQYEAD+WXDeJsdGvnadtPAqREhsxQpplDcbh42OBugDVqXmVsXU72lXzfJK1swkenta+rGoVMQXSXOb4g6YkUP3"),e&&o.notifyConsent(!0)},go={name:"covatic",url:()=>"https://browser.covatic.io/sdk/v1/latest.js",requireUrl:()=>"https://browser.covatic.io/sdk/v1/latest",onLoad:o=>{const{covaticBrowserSDK:e}=window;o&&o.Client?fo(o):fo(e)},meetsRequirements:o=>"us"===window.dotcom.userinfo.country&&void 0!==o.covatic&&o.covatic},ho={name:"ias",url:()=>"https://cdn.adsafeprotected.com/iasPET.1.js",preLoad:()=>{window.__iasPET=window.__iasPET||{},window.__iasPET.queue=window.__iasPET.queue||[],window.__iasPET.pubId="9708"},meetsRequirements:o=>!_()&&(-1!==window.location.search.indexOf("ias_publisher")||void 0!==o.ias_publisher&&o.ias_publisher)},bo={name:"theMediaTrust",url:()=>"https://scripts.webcontentassessor.com/scripts/64ca3dfd44dd68a629e2e51a27e7ccd960974b5961e4ca2897139d14bf10be8b",meetsRequirements:o=>void 0!==o.tmt_media_filter&&o.tmt_media_filter},yo={name:"gpt",url:()=>"https://securepubads.g.doubleclick.net/tag/js/gpt.js",meetsRequirements:o=>void 0!==o.adverts&&o.adverts&&window.dotcom.config.pageAds},vo=new URLSearchParams(window.location.search),_o={name:"speedcurve",preLoad:()=>{if(window.LUX=function(){const o=void 0!==window.LUX&&void 0!==window.LUX.gaMarks?window.LUX.gaMarks:[],e=void 0!==window.LUX&&void 0!==window.LUX.gaMeasures?window.LUX.gaMeasures:[],t="LUX_start",n=window.performance;let a=void 0!==window.LUX&&window.LUX.ns?window.LUX.ns:Date.now?Date.now():+new Date;function s(){if(n&&n.now)return n.now();return(Date.now?Date.now():+new Date)-a}function d(e){return function(o,e){for(i=e.length-1;i>=0;i--){const t=e[i];if(o===t.name)return t}return}(e,function(){if(n){if(n.getEntriesByType)return n.getEntriesByType("mark");if(n.webkitGetEntriesByType)return n.webkitGetEntriesByType("mark")}return o}())}return n&&n.timing&&n.timing.navigationStart&&(a=n.timing.navigationStart),{mark:function(e){if(n){if(n.mark)return n.mark(e);if(n.webkitMark)return n.webkitMark(e)}o.push({name:e,entryType:"mark",startTime:s(),duration:0})},measure:function(o,i,a){if(void 0===i&&d(t)&&(i=t),n){if(n.measure)return i?a?n.measure(o,i,a):n.measure(o,i):n.measure(o);if(n.webkitMeasure)return n.webkitMeasure(o,i,a)}let r=0,c=s();if(i){const o=d(i);if(o)r=o.startTime;else{if(!(n&&n.timing&&n.timing[i]))return;r=n.timing[i]-n.timing.navigationStart}}if(a){const o=d(a);if(o)c=o.startTime;else{if(!(n&&n.timing&&n.timing[a]))return;c=n.timing[a]-n.timing.navigationStart}}e.push({name:o,entryType:"measure",startTime:r,duration:c-r})},gaMarks:o,gaMeasures:e}}(),window.LUX.ns=Date.now?Date.now():+new Date,window.LUX.ac=[],window.LUX.cmd=function(o){window.LUX.ac.push(o)},window.LUX.init=function(){window.LUX.cmd(["init"])},window.LUX.send=function(){window.LUX.cmd(["send"])},window.LUX.addData=function(o,e){window.LUX.cmd(["addData",o,e])},window.LUX_ae=[],window.addEventListener("error",(o=>{window.LUX_ae.push(o)})),window.LUX_al=[],"function"==typeof PerformanceObserver&&"function"==typeof PerformanceLongTaskTiming){const o=new PerformanceObserver((o=>{const e=o.getEntries();for(let o=0;o<e.length;o++){const t=e[o];window.LUX_al.push(t)}}));try{o.observe({type:["longtask"]})}catch(o){}}},url:()=>"https://cdn.speedcurve.com/js/lux.js?id=4347073596",meetsRequirements:()=>vo.has("perf")&&100*Math.random()<10},Eo={name:"piano",url:()=>"//cdn.tinypass.com/api/tinypass.min.js",meetsRequirements:o=>void 0!==o.piano&&o.piano&&"news"===O().channel||-1!==window.location.search.indexOf("piano-debug"),onLoad:()=>{const{tp:o}=window;g.isAdsDebug()&&o.push(["setDebug",!0]),o.push(["setAid","7I7hmRshpe"]),o.push(["setEndpoint","https://buy-eu.piano.io/api/v3"]),o.push(["setCxenseSiteId","3606632254074155369"]),o.push(["init",function(){o.experience.init()}])}};window.performance.mark("bootstrap-js-load");const ko="https://gn-web-assets.api.bbc.com/ngas";let Lo="";Lo="latest/";let xo="";const Co=`${ko}/${Lo}dotcom-ads.js`,So=`${ko}/${Lo}dotcom-analytics.js`,Uo=`${ko}/${Lo}dotcom-preroll.js`,Io=()=>{["https://securepubads.g.doubleclick.net","https://pagead2.googlesyndication.com","https://prebid.the-ozone-project.com","https://elb.the-ozone-project.com","https://bbc.gscontxt.net","https://cdn.permutive.com","https://api.permutive.com","https://cdn.adsafeprotected.com","https://static.adsafeprotected.com"].forEach((o=>{const e=document.createElement("link");e.href=o,e.rel="preconnect",document.head.appendChild(e)}))},Ro=()=>!0===window.dotcom.flags.adverts&&!0===window.dotcom.config.allowAdvertising,To=()=>{window.__tcfapi&&window.__tcfapi("getTCData",2,((o,e)=>{e&&(o.gdprApplies?window._sp_.gdpr.loadPrivacyManagerModal("779247"):window.__uspapi("getUSPData",1,(o=>{-1===JSON.stringify(o).indexOf("---")&&window._sp_.ccpa.loadPrivacyManagerModal("648383")})))}))};window.dotcom=window.dotcom||{},window.dotcom.cmd=window.dotcom.cmd||[],window.dotcom.userinfo={state:0,eea:!0,country:"gb",ads:!1,notUkIp:!1,...window.dotcom.userinfo},window.dotcom.flags={state:0,adverts:!1,idcta:!1,...window.dotcom.flags},window.dotcom.vendorConsent={},window.dotcom.showSourcePointMessage=To,window.dotcom.openPrivacyManagerModal=To;const jo=Object.freeze({pageAds:!0,playerAds:!0,lang:"en",adCampaign:"",topics:[],allowAdvertising:!0,opsFlags:"",ngasFlags:"",userinfo:"",xPlatform:!1,comscorekw:""});window.dotcom.config={...jo,...window.dotcom.config};const Po=(o,e)=>{if(null===e)return;const t=(o=>Object.keys(jo).find((e=>e.toLowerCase()===o.toLowerCase())))(o);void 0!==t?window.dotcom.config[t]=e:g.isAdsDebug()&&console.log(`dotcom invalid config key: ${o}`)};window.dotcom.setConfig=Po;let Ao=[],$o=[];if(window.dotcom.ads&&window.dotcom.ads.resolves){const{resolves:o}=window.dotcom.ads;o&&(o.getAdTag&&(Ao=o.getAdTag.slice()),o.enabled&&($o=o.enabled.slice()),delete window.dotcom.ads.resolves)}const zo=(o,e)=>{window.googletag.cmd.push((()=>{window.googletag.pubads().setTargeting(o,e)}))};window.dotcom.ads={instances:{},resetAds:()=>{},destroySlot:()=>{},registerSlot:(o,e,t,n)=>{Ro()&&window.dotcom.cmd.push((()=>{window.dotcom.ads.registerSlot(o,e,t,n)}))},enabled:g.isAdsEnabled,setTargeting:(o,e)=>{window.googletag?zo(o,e):window.dotcom.cmd.push((()=>{zo(o,e)}))},getAdTag:()=>new Promise((o=>{void 0!==window.dotcom.ads.adTag?ro([uo,ho]).then((()=>window.dotcom.ads.adTag())).then((e=>{o(e)})):Ro()&&window.dotcom.config.playerAds?Ao.push(o):o("")}))};const Oo={};if(window.bbcdotcom){const o=window.bbcdotcom;o.pubsub.on=(o,e)=>{Oo[o]||(Oo[o]=[]),Oo[o].push(e)},o.pubsub.off=(o,e)=>{if(Oo[o]){const t=Oo[o].indexOf(e);-1!==t&&Oo[o].splice(t,1)}},o.pubsub.trigger=(o,e)=>{Oo[o]&&Oo[o].forEach((o=>o(e)))}}const qo=(o=!0)=>{Ao.length>0&&(Ao.forEach((e=>e(o?window.dotcom.ads.getAdTag():""))),Ao=[])},Mo=()=>{const o=()=>io(_o);window.requestIdleCallback?window.requestIdleCallback(o):setTimeout(o,2e3)},Do=()=>{Ro()?(so([po,ho,go]),wo(Co,xo).then((()=>{!0===window.dotcom.flags.analytics&&co(So,xo),io(Eo),Mo()})),window.dotcom.config.playerAds?wo(Uo,xo).then(qo):qo(!1)):(qo(!1),(()=>{let o;if(window.bbcdotcom){if("news"===O().channel){const o=document.getElementsByClassName("nw-c-leaderboard-ad");o.length&&(o[0].style.height="0px")}"sport"===O().channel&&(o=document.getElementById("bbccom_leaderboard_1_2_3_4"),o&&(o.style.height="0px",o.style.paddingBottom="0px"))}else o=document.getElementById("dotcom-leaderboard"),o&&(o.style.height="0px")})(),!0===window.dotcom.flags.analytics&&co(So,xo),Mo()),window.performance.mark("bootstrap-js-complete"),window.performance.measure("bootstrap-js-duration","bootstrap-js-load","bootstrap-js-complete")},Xo=()=>{if(!0===window.dotcom.userinfo.notUkIp&&!0===window.dotcom.userinfo.ads){if(g.checkCookies(),z(),window.location.hostname&&window.location.hostname.includes(".co.uk"))return window.dotcom.flags.adverts=!1,window.dotcom.flags.analytics=!1,window.dotcom.flags.zephr=!1,window.dotcom.flags.xproxy=!1,void Do();Ro()&&so([C,uo,bo,yo]),ro([U,A]).then((o=>{if(o[0]instanceof Error&&o[1]instanceof Error)Do();else{if(_()){const o=document.body.querySelector("header");o&&o.style.setProperty("z-index","2147483643")}new Promise((o=>{const e=new URLSearchParams(window.location.search),t=()=>{window.__tcfapi("getTCData",2,((e,t)=>{t&&(e.gdprApplies?(window.dotcom.gdprApplies=!0,a("comscore",e.vendor.consents[77]),a("permutive",e.vendor.consents[360]&&e.vendor.consents[361]),a("nielsen",e.vendor.consents[373]&&e.vendor.consents[812]),o(!0)):(window.__uspapi("getUSPData",1,(o=>{-1===JSON.stringify(o).indexOf("---")&&(window.dotcom.ccpaApplies=!0,window.dotcom.ccpaString=o.uspString,0===o.uspString.indexOf("1YY")&&(a("comscore",!1),a("permutive",!1),a("nielsen",!1),a("covatic",!1)))})),o(!0)),o(!0)),o(!0)}),[77,164,360,361,373,812])};e.has("sourcepoint")||window.dotcom.flags.cmp?window.addEventListener("ngas:consentReady",(()=>{t()})):window?.googlefc?.callbackQueue.push({CONSENT_DATA_READY:t})})).then((()=>{Do()}))}})),_()||L()||x()||!window.dotcom.flags.zephr&&!window.dotcom.flags.xproxy?(window.dotcom.flags.zephr=!1,window.dotcom.flags.xproxy=!1):N().then((o=>{window.dotcom.flags.idcta=o,o?window.dotcom.flags.zephr?window.requirejs?Z.requirejs():io(Z):Q():(window.dotcom.flags.zephr=!1,window.dotcom.flags.xproxy=!1)})).catch((()=>{console.log("Fail to initiate idcta"),window.dotcom.flags.zephr=!1,window.dotcom.flags.xproxy=!1}))}!1===window.dotcom.userinfo.notUkIp&&Mo()};var No;window.dotcom.featuresInited=!1,window.dotcom.locationChange=o=>{var e;g.syncAdsEnabled()&&(k()&&window.dotcom.featuresInited&&(O().keyValues.pageType!==o.keyValues.pageType&&window.dotcom.ads.destroySlots(),O().channel!==o.keyValues.channel&&window.dotcom.ads.destroySlots()),e=o?o.keyValues:null,delete window.dotcom.data,z(e),k()||(window.dotcom.ads.resetAds(),window.dotcom.reinitAds()))},No=window.dotcomConfig||{},Object.keys(No).forEach((o=>{Po(o,No[o])})),Po("lang",document.documentElement.lang||window.dotcom.config.lang||jo.lang),(async()=>{await g.init().catch((o=>{console.log(o)})),g.isDotcomAllowed()&&Ro()&&Io(),window.dotcom.userinfo.state>0&&window.dotcom.flags.state>0?Xo():window.dotcom.userinfo.state<0||window.dotcom.flags.state,$o.length&&$o.forEach((o=>{g.isAdsEnabled().then((e=>{o(e)}))}))})()}();